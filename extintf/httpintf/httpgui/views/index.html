<html>

<head>
    <title>Feature Flag Service</title>

    <meta charset="utf-8">
    <meta name="description" content="Control your Feature Releases with flags! FFS!">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/assets/purecss/pure-min.css">

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/assets/purecss/grids-responsive-old-ie-min.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/assets/purecss/grids-responsive-min.css">
    <!--<![endif]-->

    <link rel="stylesheet" href="/assets/css/font-awesome.css">

    <!--[if lte IE 8]>
    <link rel="stylesheet" href="/assets/css/layouts/marketing-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
    <link rel="stylesheet" href="/assets/css/layouts/marketing.css">
    <!--<![endif]-->

</head>

<body>

<div class="header">
    <div class="home-menu pure-menu pure-menu-horizontal pure-menu-fixed">
        <a class="pure-menu-heading" href="">Feature Flag Service</a>
    </div>
</div>

{{ range . }}
    <div class="content">
        <h2 class="content-head is-center">{{ .Name }}</h2>
        <div class="pure-g">
            <div class="l-box-lrg pure-u pure-u-1">
                <form action="/update" class="pure-form pure-form-aligned" data-bitwarden-watching="1">
                    <fieldset>

                        <div class="pure-control-group">
                            <label for="feature">Feature Name</label>
                            <input id="feature" name="flag.feature"
                                   type="text"
                                   value="{{ .Name }}">
                        </div>

                        <div class="pure-control-group">
                            <label for="percentage">Rollout Percentage</label>
                            <input id="percentage" name="flag.rollout.strategy.percentage"
                                   type="range" min="0" max="100"
                                   value="{{ .Rollout.Strategy.Percentage}}">
                        </div>

                        <div class="pure-control-group">
                            <label for="seed">Seed of the random pseudo random in the rollout</label>
                            <input id="seed" type="flag.rollout.randSeedSalt"
                                   type="number"
                                   value="{{ .Rollout.RandSeedSalt }}">
                            {{/*<span class="pure-form-message-inline"></span>*/}}
                        </div>

                        <div class="pure-control-group">
                        <label for="decisionApiURL">Decision API URL</label>
                        <input id="decisionApiURL" name="flag.rollout.strategy.decisionLogicApi"
                               type="url"
                               {{ if .Rollout.Strategy.DecisionLogicAPI }}value="{{ .Rollout.Strategy.DecisionLogicAPI }}"{{end}}
                               placeholder="this flag's custom decision logic API URL (optional)">
                        </div>

                        <input id="ID" type="hidden" value="{{ .ID }}">
                        <button type="submit" class="pure-button pure-button-primary">Update</button>

                    </fieldset>
                </form>
            </div>
        </div>
    </div>
{{ end }}

</body>
</html>